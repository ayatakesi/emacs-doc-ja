name: Check versions of build tools
# especially for po4a, because its behaviors are very differ
# between different major/minor versions.
on:
  workflow_dispatch:
jobs:
  latest:
    name: Check versions on ubuntu-latest
    runs-on: ubuntu-latest
    steps:
      - name: Prepare build environment
        run: |
          sudo apt update
          sudo apt-get install -y perl 
          sudo apt-get install -y gettext
          sudo apt-get install -y po4a
          sudo apt-get install -y libintl-perl
          sudo apt-get install -y coreutils
          sudo apt-get install -y texinfo
          sudo apt-get install -y texlive-full
      - name: Check po4a version
        run: |
          po4a --version
  alternate:
    name: Check versions on ubuntu-NOT-latest
    runs-on: ubuntu-20.04
    steps:
      - name: Prepare build environment
        run: |
          sudo apt update
          sudo apt-get install -y perl 
          sudo apt-get install -y gettext
          sudo apt-get install -y po4a
          sudo apt-get install -y libintl-perl
          sudo apt-get install -y coreutils
          sudo apt-get install -y texinfo
          sudo apt-get install -y texlive-full
      - name: Check po4a version
        run: |
          po4a --version
